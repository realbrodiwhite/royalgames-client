{"ast":null,"code":"import{useContext,useEffect,useRef}from'react';import'./Game.scss';import{useNavigate,useParams}from'react-router-dom';import axios from'axios';import{SocketContext}from'../../context/socket';import*as PIXI from'pixi.js';import Reel from'../../slot/Reel';import SlotGame from'../../slot/SlotGame';import initControls from'../../slot/initControls';import gsap from'gsap';import{jsx as _jsx}from\"react/jsx-runtime\";const Game=props=>{const elRef=useRef(null);const params=useParams();const socket=useContext(SocketContext);const navigate=useNavigate();useEffect(()=>{let game;axios.get(\"../gamescripts/\".concat(params.gameId,\".js\")).then(response=>{game=new Function(\"\\n        const gameId = arguments[0];\\n        const Game = arguments[1];\\n        const Reel = arguments[2];\\n        const initControls = arguments[3];\\n        const socket = arguments[4];\\n        const PIXI = arguments[5];\\n        const gsap = arguments[6];\\n        const goToLobby = arguments[7];\\n\\n        \".concat(response.data,\"\\n      \"))(params.gameId,SlotGame,Reel,initControls,socket,PIXI,gsap,()=>{navigate('/');});const gameCanvas=elRef.current.querySelector('canvas');if(gameCanvas){gameCanvas.remove();}elRef.current.appendChild(game.renderer.view);});return()=>{game.destroy();};},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"Game\",ref:elRef});};export default Game;","map":{"version":3,"names":["useContext","useEffect","useRef","useNavigate","useParams","axios","SocketContext","PIXI","Reel","SlotGame","initControls","gsap","jsx","_jsx","Game","props","elRef","params","socket","navigate","game","get","concat","gameId","then","response","Function","data","gameCanvas","current","querySelector","remove","appendChild","renderer","view","destroy","className","ref"],"sources":["/home/user/Desktop/Projects/RoyalGames/royalgames-client/src/features/game/Game.js"],"sourcesContent":["import { useContext, useEffect, useRef } from 'react';\nimport './Game.scss';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { SocketContext } from '../../context/socket';\nimport * as PIXI from 'pixi.js';\nimport Reel from '../../slot/Reel';\nimport SlotGame from '../../slot/SlotGame';\nimport initControls from '../../slot/initControls';\nimport gsap from 'gsap';\n\nconst Game = (props) => {\n  const elRef = useRef(null);\n  const params = useParams();\n  const socket = useContext(SocketContext);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    let game;\n\n    axios.get(`../gamescripts/${params.gameId}.js`).then((response) => {\n      game = (new Function(`\n        const gameId = arguments[0];\n        const Game = arguments[1];\n        const Reel = arguments[2];\n        const initControls = arguments[3];\n        const socket = arguments[4];\n        const PIXI = arguments[5];\n        const gsap = arguments[6];\n        const goToLobby = arguments[7];\n\n        ${response.data}\n      `))(params.gameId, SlotGame, Reel, initControls, socket, PIXI, gsap, () => { navigate('/'); });\n      \n      const gameCanvas = elRef.current.querySelector('canvas');\n      \n      if (gameCanvas) {\n        gameCanvas.remove();\n      }\n\n      elRef.current.appendChild(game.renderer.view);\n    });\n\n    return () => {\n      game.destroy();\n    };\n  }, []);\n\n  return (\n    <div\n      className=\"Game\"\n      ref={elRef}\n    >\n      \n    </div>\n  );\n}\n\nexport default Game;\n"],"mappings":"AAAA,OAASA,UAAU,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACrD,MAAO,aAAa,CACpB,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,KAAQ,sBAAsB,CACpD,MAAO,GAAK,CAAAC,IAAI,KAAM,SAAS,CAC/B,MAAO,CAAAC,IAAI,KAAM,iBAAiB,CAClC,MAAO,CAAAC,QAAQ,KAAM,qBAAqB,CAC1C,MAAO,CAAAC,YAAY,KAAM,yBAAyB,CAClD,MAAO,CAAAC,IAAI,KAAM,MAAM,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExB,KAAM,CAAAC,IAAI,CAAIC,KAAK,EAAK,CACtB,KAAM,CAAAC,KAAK,CAAGd,MAAM,CAAC,IAAI,CAAC,CAC1B,KAAM,CAAAe,MAAM,CAAGb,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAc,MAAM,CAAGlB,UAAU,CAACM,aAAa,CAAC,CACxC,KAAM,CAAAa,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd,GAAI,CAAAmB,IAAI,CAERf,KAAK,CAACgB,GAAG,mBAAAC,MAAA,CAAmBL,MAAM,CAACM,MAAM,OAAK,CAAC,CAACC,IAAI,CAAEC,QAAQ,EAAK,CACjEL,IAAI,CAAI,GAAI,CAAAM,QAAQ,iUAAAJ,MAAA,CAUhBG,QAAQ,CAACE,IAAI,YAChB,CAAC,CAAEV,MAAM,CAACM,MAAM,CAAEd,QAAQ,CAAED,IAAI,CAAEE,YAAY,CAAEQ,MAAM,CAAEX,IAAI,CAAEI,IAAI,CAAE,IAAM,CAAEQ,QAAQ,CAAC,GAAG,CAAC,CAAE,CAAC,CAAC,CAE9F,KAAM,CAAAS,UAAU,CAAGZ,KAAK,CAACa,OAAO,CAACC,aAAa,CAAC,QAAQ,CAAC,CAExD,GAAIF,UAAU,CAAE,CACdA,UAAU,CAACG,MAAM,CAAC,CAAC,CACrB,CAEAf,KAAK,CAACa,OAAO,CAACG,WAAW,CAACZ,IAAI,CAACa,QAAQ,CAACC,IAAI,CAAC,CAC/C,CAAC,CAAC,CAEF,MAAO,IAAM,CACXd,IAAI,CAACe,OAAO,CAAC,CAAC,CAChB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEtB,IAAA,QACEuB,SAAS,CAAC,MAAM,CAChBC,GAAG,CAAErB,KAAM,CAGR,CAAC,CAEV,CAAC,CAED,cAAe,CAAAF,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}