{"ast":null,"code":"import*as PIXI from'pixi.js';import ReelsController from'./ReelsController';import gsap from'gsap';class SlotGame{constructor(_ref,socket){let{id,width,height,reelsCount,reelPositions,symbolsCount,hasBlurredSymbols,symbolMargin,maskPaddingX,maskPaddingY,reelsSpeed,spinTime,spinTimeBetweenReels}=_ref;this.onInitFns=[];this.onDestroyFns=[];this.onBalanceChangeFns=[];this.onBetChangeFns=[];this.onCoinValueChangeFns=[];this.onLoadingFns=[];this.onPlayFns=[];this.id=id;this.width=width;this.height=height;this.reelsCount=reelsCount;this.reelPositions=reelPositions;this.symbolsCount=symbolsCount;this.hasBlurredSymbols=hasBlurredSymbols||false;this.symbolMargin=symbolMargin||0;this.maskPaddingX=maskPaddingX||0;this.maskPaddingY=maskPaddingY||0;this.reelsSpeed=reelsSpeed||0.18;this.spinTime=spinTime;this.spinTimeBetweenReels=spinTimeBetweenReels;this.socket=socket;this.renderer=new PIXI.autoDetectRenderer({width:window.innerWidth,height:window.innerHeight,antialias:true});this.stage=new PIXI.Container();this.ticker=new PIXI.Ticker();this.ticker.add(()=>{this.renderer.render(this.stage);});this.assets=[];this.soundAssets={reelsRun:new Audio(\"/data/reels-run.mp3\"),reelStop:new Audio(\"/data/reel-stop.mp3\"),winEffect:new Audio(\"/data/win.mp3\"),coinsEffect:new Audio(\"/data/coins.mp3\")};this.sprites=[];this.texts=[];this._bet=1;this.coinValueValues=[0.01,0.03,0.10,0.20,0.50];this._coinValueValueIndex=0;this._balance=0;this.autoplay=false;this.creditsTweenCompleted=true;}onInit(fn){this.onInitFns.push(fn);}onDestroy(fn){this.onDestroyFns.push(fn);}resize(){const gameRatio=this.width/this.height;const windowRatio=window.innerWidth/window.innerHeight;let width,height;if(windowRatio<gameRatio){width=window.innerWidth;height=width/gameRatio;}else{height=window.innerHeight;width=height*gameRatio;}this.renderer.resize(width,height);this.stage.scale.x=this.renderer.view.width/this.width;this.stage.scale.y=this.renderer.view.height/this.height;}init(){this.reelsController=new ReelsController(this,this.spinTime,this.spinTimeBetweenReels);this.resize();this.onInitFns.forEach(fn=>fn());this.stage.children.sort(function(a,b){if(a.z>b.z){return 1;}else{return-1;}});const onWindowResize=()=>{setTimeout(()=>{this.resize();},50);};window.addEventListener('resize',onWindowResize);this.onDestroy(()=>{window.removeEventListener('resize',onWindowResize);});this.onNetworkGamestate=state=>{this.processGamestate(state);};this.socket.on('gamestate',this.onNetworkGamestate);this.onNetworkBet=data=>{this.processBet(data);};this.socket.on('bet',this.onNetworkBet);this.ticker.add(()=>{this.texts.forEach(text=>{const t=text.text;text.text='';text.text=t;});});this.ticker.add(()=>{if(this.autoplay){if(!this.reelsController.reelsActive){if(this.betResponse===null||!this.betResponse.isWin||this.creditsTweenCompleted){this.play();}}}});this.onActionButtonPressed=e=>{if(e.code==='Space'||e.code==='Numpad0'){this.play();}};window.addEventListener('keypress',this.onActionButtonPressed);}start(){PIXI.Assets.addBundle(this.id,this.assets);PIXI.Assets.loadBundle(this.id,progress=>{this.onLoadingFns.forEach(fn=>{fn(progress);});}).then(()=>{this.init();this.socket.emit('gamestate',{key:localStorage.getItem('key'),gameId:this.id});});}onLoading(fn){this.onLoadingFns.push(fn);}play(){if(this.reelsController.reelsActive){if(this.betResponse){this.reelsController.onStopCommandFns.forEach(fn=>fn());if(this.reelsController.reels.some(r=>(r.rolling==true||r.stopping<r.positions+1)&&!(r.forceStopped||r.stoppedAutomatically))){this.soundAssets.reelsRun.pause();new Audio(this.soundAssets.reelStop.src).play();}this.reelsController.reels.forEach((r,i)=>{if((r.rolling==true||r.stopping<r.positions+1)&&!(r.forceStopped||r.stoppedAutomatically)){r.values=this.betResponse.reels[i].slice();r.offset=0;r.stopping=r.positions+1;r.forceStopped=true;}});}if(!this.reelsController.stopCommandGiven){this.reelsController.stopCommandGiven=true;this.autoplay=false;for(let i=0;i<this.onPlayFns.length;i++){const fn=this.onPlayFns[i];fn();if(fn.once){this.onPlayFns.splice(i--,1);}}}}else{this.socket.emit('bet',{key:localStorage.getItem('key'),gameId:this.id,bet:this.bet,coinValue:this.coinValue});this.betResponse=null;this.reelsController.stopCommandGiven=false;this.balance-=Math.round(this.betValue*100)/100;this.reelsController.reels.forEach(r=>{r.stoppedAutomatically=false;r.forceStopped=false;r.roll();r.onceStop(()=>{if(!this.reelsController.reelsActive){for(let i=0;i<this.reelsController.onStopFns.length;i++){const fn=this.reelsController.onStopFns[i];if(fn.once){this.reelsController.onStopFns.splice(i--,1);}fn();}}this.soundAssets.reelsRun.pause();});});this.soundAssets.reelsRun.loop=true;this.soundAssets.reelsRun.currentTime=0;this.soundAssets.reelsRun.play();for(let i=0;i<this.reelsController.onStartFns.length;i++){const fn=this.reelsController.onStartFns[i];if(fn.once){this.reelsController.onStartFns.splice(i--,1);}fn();}for(let i=0;i<this.onPlayFns.length;i++){const fn=this.onPlayFns[i];fn();if(fn.once){this.onPlayFns.splice(i--,1);}}}}onPlay(fn){this.onPlayFns.push(fn);}oncePlay(fn){fn.once=true;this.onPlay(fn);}processGamestate(state){this.balance=state.balance;this.coinValueValueIndex=this.coinValueValues.indexOf(state.coinValue);this.bet=state.bet;state.reels.forEach((reelValues,i)=>{this.reelsController.reels[i].values=reelValues;});this.ticker.start();}processBet(data){this.balance=data.balance;data.reels.forEach((reelValues,i)=>{this.reelsController.reels[i].stopValues=reelValues.slice();});if(data.isWin){let totalWin=0;data.win.forEach(line=>totalWin+=line.amount);this.balance-=totalWin;const o={balance:this.balance};this.creditsTweenCompleted=false;this.reelsController.onceStop(()=>{const creditsTween=gsap.to(o,{balance:this.balance+totalWin,duration:3,onUpdate:()=>{this.balance=o.balance;},onComplete:()=>{this.balance=data.balance;this.creditsTweenCompleted=true;}});this.reelsController.onceStart(()=>{setTimeout(()=>{if(creditsTween&&creditsTween.isActive()){creditsTween.progress(1);creditsTween.kill();}});});});}this.betResponse=data;if(this.reelsController.stopCommandGiven){this.play();}}addResource(resource){if(resource.constructor===Array){this.assets=[...this.assets,...resource.map(r=>{return{name:r.name,srcs:r.source};})];}else{this.assets.push({name:resource.name,srcs:resource.source});}}addSprite(resourceKey){const sprite=PIXI.Sprite.from(resourceKey);this.sprites.push(sprite);this.stage.addChild(sprite);return sprite;}addButton(resources,onClick){const sprite=PIXI.Sprite.from(resources[0]);sprite.interactive=true;sprite.on('pointerenter',()=>{if(sprite.disabled){sprite.texture=PIXI.Texture.from(resources[3]);}else{sprite.texture=PIXI.Texture.from(resources[1]);}});let isDown=false;sprite.on('pointerdown',()=>{if(sprite.disabled){sprite.texture=PIXI.Texture.from(resources[3]);}else{sprite.texture=PIXI.Texture.from(resources[2]);}isDown=true;});sprite.on('pointerleave',()=>{if(sprite.disabled){sprite.texture=PIXI.Texture.from(resources[3]);}else{sprite.texture=PIXI.Texture.from(resources[0]);}});sprite.on('pointerup',()=>{if(isDown){onClick();if(sprite.disabled){sprite.texture=PIXI.Texture.from(resources[3]);}else{sprite.texture=PIXI.Texture.from(resources[0]);}isDown=false;}});this.sprites.push(sprite);this.stage.addChild(sprite);return sprite;}destroy(){this.ticker.stop();this.stage.destroy();this.socket.off('gamestate',this.onNetworkGamestate);this.socket.off('bet',this.onNetworkBet);window.removeEventListener('keypress',this.onActionButtonPressed);this.onDestroyFns.forEach(fn=>fn());PIXI.Assets.unloadBundle(this.id);}get coinValue(){return this.coinValueValues[this.coinValueValueIndex];}get betValue(){return this.bet*10*this.coinValue;}get betValueToLocale(){return this.betValue.toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:2});}set balance(value){this._balance=value;this.onBalanceChangeFns.forEach(fn=>fn(this._balance));}get balance(){return this._balance;}onBalanceChange(fn){this.onBalanceChangeFns.push(fn);}set bet(value){this._bet=value;this.onBetChangeFns.forEach(fn=>fn(this._bet));}get bet(){return this._bet;}onBetChange(fn){this.onBetChangeFns.push(fn);}set coinValueValueIndex(value){this._coinValueValueIndex=value;this.onCoinValueChangeFns.forEach(fn=>fn(this.coinValueValues[this._coinValueValueIndex]));}get coinValueValueIndex(){return this._coinValueValueIndex;}onCoinValueChange(fn){this.onCoinValueChangeFns.push(fn);}}export default SlotGame;","map":{"version":3,"names":["PIXI","ReelsController","gsap","SlotGame","constructor","_ref","socket","id","width","height","reelsCount","reelPositions","symbolsCount","hasBlurredSymbols","symbolMargin","maskPaddingX","maskPaddingY","reelsSpeed","spinTime","spinTimeBetweenReels","onInitFns","onDestroyFns","onBalanceChangeFns","onBetChangeFns","onCoinValueChangeFns","onLoadingFns","onPlayFns","renderer","autoDetectRenderer","window","innerWidth","innerHeight","antialias","stage","Container","ticker","Ticker","add","render","assets","soundAssets","reelsRun","Audio","reelStop","winEffect","coinsEffect","sprites","texts","_bet","coinValueValues","_coinValueValueIndex","_balance","autoplay","creditsTweenCompleted","onInit","fn","push","onDestroy","resize","gameRatio","windowRatio","scale","x","view","y","init","reelsController","forEach","children","sort","a","b","z","onWindowResize","setTimeout","addEventListener","removeEventListener","onNetworkGamestate","state","processGamestate","on","onNetworkBet","data","processBet","text","t","reelsActive","betResponse","isWin","play","onActionButtonPressed","e","code","start","Assets","addBundle","loadBundle","progress","then","emit","key","localStorage","getItem","gameId","onLoading","onStopCommandFns","reels","some","r","rolling","stopping","positions","forceStopped","stoppedAutomatically","pause","src","i","values","slice","offset","stopCommandGiven","length","once","splice","bet","coinValue","balance","Math","round","betValue","roll","onceStop","onStopFns","loop","currentTime","onStartFns","onPlay","oncePlay","coinValueValueIndex","indexOf","reelValues","stopValues","totalWin","win","line","amount","o","creditsTween","to","duration","onUpdate","onComplete","onceStart","isActive","kill","addResource","resource","Array","map","name","srcs","source","addSprite","resourceKey","sprite","Sprite","from","addChild","addButton","resources","onClick","interactive","disabled","texture","Texture","isDown","destroy","stop","off","unloadBundle","betValueToLocale","toLocaleString","minimumFractionDigits","maximumFractionDigits","value","onBalanceChange","onBetChange","onCoinValueChange"],"sources":["/home/user/Desktop/Projects/RoyalGames/royalgames-client/src/slot/SlotGame.js"],"sourcesContent":["import * as PIXI from 'pixi.js';\nimport ReelsController from './ReelsController';\nimport gsap from 'gsap';\n\nclass SlotGame {\n  onInitFns = [];\n  onDestroyFns = [];\n  onBalanceChangeFns = [];\n  onBetChangeFns = [];\n  onCoinValueChangeFns = [];\n  onLoadingFns = [];\n  onPlayFns = [];\n\n  constructor({\n    id,\n    width,\n    height,\n    reelsCount,\n    reelPositions,\n    symbolsCount,\n    hasBlurredSymbols,\n    symbolMargin,\n    maskPaddingX,\n    maskPaddingY,\n    reelsSpeed,\n    spinTime,\n    spinTimeBetweenReels,\n  }, socket) {\n    this.id = id;\n    this.width = width;\n    this.height = height;\n    this.reelsCount = reelsCount;\n    this.reelPositions = reelPositions;\n    this.symbolsCount = symbolsCount;\n    this.hasBlurredSymbols = hasBlurredSymbols || false;\n    this.symbolMargin = symbolMargin || 0;\n    this.maskPaddingX = maskPaddingX || 0;\n    this.maskPaddingY = maskPaddingY || 0;\n    this.reelsSpeed = reelsSpeed || 0.18;\n    this.spinTime = spinTime;\n    this.spinTimeBetweenReels = spinTimeBetweenReels;\n    this.socket = socket;\n\n    this.renderer = new PIXI.autoDetectRenderer({\n      width: window.innerWidth,\n      height: window.innerHeight,\n      antialias: true,\n    });\n\n    this.stage = new PIXI.Container();\n\n    this.ticker = new PIXI.Ticker();\n\n    this.ticker.add(() => {\n      this.renderer.render(this.stage);\n    });\n\n    this.assets = [];\n    this.soundAssets = {\n      reelsRun: new Audio(`/data/reels-run.mp3`),\n      reelStop: new Audio(`/data/reel-stop.mp3`),\n      winEffect: new Audio(`/data/win.mp3`),\n      coinsEffect: new Audio(`/data/coins.mp3`),\n    };\n\n    this.sprites = [];\n    this.texts = [];\n\n    this._bet = 1;\n    this.coinValueValues = [0.01, 0.03, 0.10, 0.20, 0.50];\n    this._coinValueValueIndex = 0;\n    this._balance = 0;\n\n    this.autoplay = false;\n    this.creditsTweenCompleted = true;\n  }\n\n  onInit(fn) {\n    this.onInitFns.push(fn);\n  }\n\n  onDestroy(fn) {\n    this.onDestroyFns.push(fn);\n  }\n\n  resize() {\n    const gameRatio = this.width / this.height;\n    const windowRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (windowRatio < gameRatio) {\n      width = window.innerWidth;\n      height = width / gameRatio;\n    } else {\n      height = window.innerHeight;\n      width = height * gameRatio;\n    }\n\n    this.renderer.resize(width, height);\n\n    this.stage.scale.x = this.renderer.view.width / this.width;\n    this.stage.scale.y = this.renderer.view.height / this.height;\n  }\n\n  init() {\n    this.reelsController = new ReelsController(this, this.spinTime, this.spinTimeBetweenReels);\n\n    this.resize();\n\n    this.onInitFns.forEach((fn) => fn());\n\n    this.stage.children.sort(function(a, b) {\n      if (a.z > b.z) {\n        return 1;\n      } else {\n        return -1;\n      }\n    });\n\n    const onWindowResize = () => {\n      setTimeout(() => {\n        this.resize();\n      }, 50);\n    };\n\n    window.addEventListener('resize', onWindowResize);\n\n    this.onDestroy(() => {\n      window.removeEventListener('resize', onWindowResize);\n    });\n\n    this.onNetworkGamestate = (state) => {\n      this.processGamestate(state);\n    };\n    this.socket.on('gamestate', this.onNetworkGamestate);\n\n    this.onNetworkBet = (data) => {\n      this.processBet(data);\n    };\n    this.socket.on('bet', this.onNetworkBet);\n\n    this.ticker.add(() => {\n      this.texts.forEach((text) => {\n        const t = text.text;\n        text.text = '';\n        text.text = t;\n      });\n    });\n    \n    this.ticker.add(() => {\n      if (this.autoplay) {\n        if (!this.reelsController.reelsActive) {\n          if (this.betResponse === null || !this.betResponse.isWin || this.creditsTweenCompleted) {\n            this.play();\n          }\n        }\n      }\n    });\n\n    this.onActionButtonPressed = (e) => {\n      if (e.code === 'Space' || e.code === 'Numpad0') {\n        this.play();\n      }\n    };\n    window.addEventListener('keypress', this.onActionButtonPressed);\n  }\n\n  start() {\n    PIXI.Assets.addBundle(this.id, this.assets);\n    PIXI.Assets.loadBundle(this.id, (progress) => {\n      this.onLoadingFns.forEach((fn) => {\n        fn(progress);\n      });\n    }).then(() => {\n      this.init();\n\n      this.socket.emit('gamestate', {\n        key: localStorage.getItem('key'),\n        gameId: this.id,\n      });\n    });\n  }\n\n  onLoading(fn) {\n    this.onLoadingFns.push(fn);\n  }\n\n  play() {\n    if (this.reelsController.reelsActive) {\n      if (this.betResponse) {\n        this.reelsController.onStopCommandFns.forEach((fn) => fn());\n  \n        if (this.reelsController.reels.some((r) => (r.rolling == true || r.stopping < r.positions + 1) && !(r.forceStopped || r.stoppedAutomatically))) {\n          this.soundAssets.reelsRun.pause();\n          new Audio(this.soundAssets.reelStop.src).play();\n        }\n\n        this.reelsController.reels.forEach((r, i) => {\n          if ((r.rolling == true || r.stopping < r.positions + 1) && !(r.forceStopped || r.stoppedAutomatically)) {\n            r.values = this.betResponse.reels[i].slice();\n            r.offset = 0;\n            r.stopping = r.positions + 1;\n            r.forceStopped = true;\n          }\n        });\n      }\n\n      if (!this.reelsController.stopCommandGiven) {\n        this.reelsController.stopCommandGiven = true;\n        this.autoplay = false;\n\n        for (let i = 0; i < this.onPlayFns.length; i++) {\n          const fn = this.onPlayFns[i];\n          fn();\n\n          if (fn.once) {\n            this.onPlayFns.splice(i--, 1);\n          }\n        }\n      }\n    } else {\n      this.socket.emit('bet', {\n        key: localStorage.getItem('key'),\n        gameId: this.id,\n        bet: this.bet,\n        coinValue: this.coinValue,\n      });\n\n      this.betResponse = null;\n      this.reelsController.stopCommandGiven = false;\n      this.balance -= Math.round(this.betValue * 100) / 100;\n  \n      this.reelsController.reels.forEach((r) => {\n        r.stoppedAutomatically = false;\n        r.forceStopped = false;\n        r.roll();\n  \n        r.onceStop(() => {\n          if (!this.reelsController.reelsActive) {\n            for (let i = 0; i < this.reelsController.onStopFns.length; i++) {\n              const fn = this.reelsController.onStopFns[i];\n  \n              if (fn.once) {\n                this.reelsController.onStopFns.splice(i--, 1);\n              }\n              \n              fn();\n            }\n          }\n\n          this.soundAssets.reelsRun.pause();\n        });\n      });\n\n      this.soundAssets.reelsRun.loop = true;\n      this.soundAssets.reelsRun.currentTime = 0;\n      this.soundAssets.reelsRun.play();\n  \n      for (let i = 0; i < this.reelsController.onStartFns.length; i++) {\n        const fn = this.reelsController.onStartFns[i];\n  \n        if (fn.once) {\n          this.reelsController.onStartFns.splice(i--, 1);\n        }\n  \n        fn();\n      }\n\n      for (let i = 0; i < this.onPlayFns.length; i++) {\n        const fn = this.onPlayFns[i];\n        fn();\n\n        if (fn.once) {\n          this.onPlayFns.splice(i--, 1);\n        }\n      }\n    }\n  }\n\n  onPlay(fn) {\n    this.onPlayFns.push(fn);\n  }\n\n  oncePlay(fn) {\n    fn.once = true;\n    this.onPlay(fn);\n  }\n\n  processGamestate(state) {\n    this.balance = state.balance;\n    this.coinValueValueIndex = this.coinValueValues.indexOf(state.coinValue);\n    this.bet = state.bet;\n\n    state.reels.forEach((reelValues, i) => {\n      this.reelsController.reels[i].values = reelValues;\n    });\n\n    this.ticker.start();\n  }\n\n  processBet(data) {\n    this.balance = data.balance;\n    \n    data.reels.forEach((reelValues, i) => {\n      this.reelsController.reels[i].stopValues = reelValues.slice();\n    });\n\n    if (data.isWin) {\n      let totalWin = 0;\n      data.win.forEach((line) => totalWin += line.amount);\n      this.balance -= totalWin;\n  \n      const o = { balance: this.balance };\n      this.creditsTweenCompleted = false;\n      this.reelsController.onceStop(() => {\n        const creditsTween = gsap.to(o, {\n          balance: this.balance + totalWin,\n          duration: 3,\n          onUpdate: () => {\n            this.balance = o.balance;\n          },\n          onComplete: () => {\n            this.balance = data.balance;\n            this.creditsTweenCompleted = true;\n          },\n        });\n\n        this.reelsController.onceStart(() => {\n          setTimeout(() => {\n            if (creditsTween && creditsTween.isActive()) {\n              creditsTween.progress(1);\n              creditsTween.kill();\n            }\n          });\n        });\n      });\n    }\n\n    this.betResponse = data;\n\n    if (this.reelsController.stopCommandGiven) {\n      this.play();\n    }\n  }\n\n  addResource(resource) {\n    if (resource.constructor === Array) {\n      this.assets = [\n        ...this.assets,\n        ...resource.map((r) => {\n          return {\n            name: r.name,\n            srcs: r.source,\n          };\n        }),\n      ];\n    } else {\n      this.assets.push({\n        name: resource.name,\n        srcs: resource.source,\n      });\n    }\n  }\n\n  addSprite(resourceKey) {\n    const sprite = PIXI.Sprite.from(resourceKey);\n\n    this.sprites.push(sprite);\n    this.stage.addChild(sprite);\n\n    return sprite;\n  }\n\n  addButton(resources, onClick) {\n    const sprite = PIXI.Sprite.from(resources[0]);\n    sprite.interactive = true;\n\n    sprite.on('pointerenter', () => {\n      if (sprite.disabled) {\n        sprite.texture = PIXI.Texture.from(resources[3]);\n      } else {\n        sprite.texture = PIXI.Texture.from(resources[1]);\n      }\n    });\n\n    let isDown = false;\n    sprite.on('pointerdown', () => {\n      if (sprite.disabled) {\n        sprite.texture = PIXI.Texture.from(resources[3]);\n      } else {\n        sprite.texture = PIXI.Texture.from(resources[2]);\n      }\n      isDown = true;\n    });\n\n    sprite.on('pointerleave', () => {\n      if (sprite.disabled) {\n        sprite.texture = PIXI.Texture.from(resources[3]);\n      } else {\n        sprite.texture = PIXI.Texture.from(resources[0]);\n      }\n    });\n\n    sprite.on('pointerup', () => {\n      if (isDown) {\n        onClick();\n\n        if (sprite.disabled) {\n          sprite.texture = PIXI.Texture.from(resources[3]);\n        } else {\n          sprite.texture = PIXI.Texture.from(resources[0]);\n        }\n        \n        isDown = false;\n      }\n    });\n\n    this.sprites.push(sprite);\n    this.stage.addChild(sprite);\n\n    return sprite;\n  }\n\n  destroy() {\n    this.ticker.stop();\n    this.stage.destroy();\n    this.socket.off('gamestate', this.onNetworkGamestate);\n    this.socket.off('bet', this.onNetworkBet);\n    window.removeEventListener('keypress', this.onActionButtonPressed);\n    this.onDestroyFns.forEach((fn) => fn());\n    PIXI.Assets.unloadBundle(this.id);\n  }\n\n  get coinValue() {\n    return this.coinValueValues[this.coinValueValueIndex];\n  }\n\n  get betValue() {\n    return this.bet * 10 * this.coinValue;\n  }\n\n  get betValueToLocale() {\n    return this.betValue.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });\n  }\n\n  set balance(value) {\n    this._balance = value;\n    this.onBalanceChangeFns.forEach((fn) => fn(this._balance));\n  }\n\n  get balance() {\n    return this._balance;\n  }\n\n  onBalanceChange(fn) {\n    this.onBalanceChangeFns.push(fn);\n  }\n\n  set bet(value) {\n    this._bet = value;\n    this.onBetChangeFns.forEach((fn) => fn(this._bet));\n  }\n\n  get bet() {\n    return this._bet;\n  }\n\n  onBetChange(fn) {\n    this.onBetChangeFns.push(fn);\n  }\n\n  set coinValueValueIndex(value) {\n    this._coinValueValueIndex = value;\n    this.onCoinValueChangeFns.forEach((fn) => fn(this.coinValueValues[this._coinValueValueIndex]));\n  }\n\n  get coinValueValueIndex() {\n    return this._coinValueValueIndex;\n  }\n\n  onCoinValueChange(fn) {\n    this.onCoinValueChangeFns.push(fn);\n  }\n}\n\nexport default SlotGame;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}