{"ast":null,"code":"import{faCog,faCrown,faUserCircle}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import'./Header.scss';import{useSelector}from'react-redux';import{useEffect,useContext}from'react';import{SocketContext}from'../../context/socket';import store from'../../store';import lobbySlice from'../../lobbySlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=props=>{const loggedIn=useSelector(state=>state.lobby.loggedIn);const username=useSelector(state=>state.lobby.username);const balance=useSelector(state=>state.lobby.balance);const socket=useContext(SocketContext);useEffect(()=>{socket.emit('balance',{key:localStorage.getItem('key')});socket.on('balance',balance=>{store.dispatch(lobbySlice.actions.updateBalance(balance));});},[socket]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCrown,size:\"2x\",className:\"logo\"}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:\"Royal Games\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu \".concat(!loggedIn?\"d-none\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"account\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn-toggle-account-menu\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUserCircle,size:\"2x\"}),/*#__PURE__*/_jsx(\"span\",{children:username})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-settings\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCog,size:\"2x\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"balance \".concat(!loggedIn?\"d-none\":\"\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Gaming Credits\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:balance.toLocaleString(\"en-US\",{minimumFractionDigits:2,maximumFractionDigits:2})})]})]});};export default Header;","map":{"version":3,"names":["faCog","faCrown","faUserCircle","FontAwesomeIcon","useSelector","useEffect","useContext","SocketContext","store","lobbySlice","jsx","_jsx","jsxs","_jsxs","Header","props","loggedIn","state","lobby","username","balance","socket","emit","key","localStorage","getItem","on","dispatch","actions","updateBalance","className","children","icon","size","concat","toLocaleString","minimumFractionDigits","maximumFractionDigits"],"sources":["/home/user/Desktop/Projects/RoyalGames/royalgames-client/src/features/header/Header.js"],"sourcesContent":["import { faCog, faCrown, faUserCircle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './Header.scss';\nimport { useSelector } from 'react-redux';\nimport { useEffect, useContext } from 'react';\nimport { SocketContext } from '../../context/socket';\nimport store from '../../store';\nimport lobbySlice from '../../lobbySlice';\n\nconst Header = (props) => {\n  const loggedIn = useSelector((state) => state.lobby.loggedIn);\n  const username = useSelector((state) => state.lobby.username);\n  const balance = useSelector((state) => state.lobby.balance);\n\n  const socket = useContext(SocketContext);\n\n  useEffect(() => {\n    socket.emit('balance', {\n      key: localStorage.getItem('key'),\n    });\n\n    socket.on('balance', (balance) => {\n      store.dispatch(lobbySlice.actions.updateBalance(balance));\n    });\n  }, [socket]);\n\n  return (\n    <div className=\"Header\">\n      <div className=\"brand\">\n        <FontAwesomeIcon\n          icon={faCrown}\n          size=\"2x\"\n          className=\"logo\"\n        ></FontAwesomeIcon>\n        <span className=\"name\">Royal Games</span>\n      </div>\n\n      <div className={`menu ${!loggedIn ? \"d-none\" : \"\"}`}>\n        <div className=\"account\">\n          <button className=\"btn-toggle-account-menu\">\n            <FontAwesomeIcon icon={faUserCircle} size=\"2x\"></FontAwesomeIcon>\n            <span>{username}</span>\n          </button>\n        </div>\n\n        <button className=\"btn-settings\">\n          <FontAwesomeIcon icon={faCog} size=\"2x\"></FontAwesomeIcon>\n        </button>\n      </div>\n\n      <div className={`balance ${!loggedIn ? \"d-none\" : \"\"}`}>\n        <span className=\"label\">Gaming Credits</span>\n        <span className=\"value\">\n          {balance.toLocaleString(\"en-US\", {\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2,\n          })}\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}